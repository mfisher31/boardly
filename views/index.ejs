<%- include('partials/header.ejs') %>

<div class="row">
    <div class="col-md-6">
        <h3>Games</h3>
    </div>
    <div class="col-md-6 text-end">
		<div class="text-end">
			<a href="/add-game" class="btn btn-success boardly-bottom-8px">Add Game</a>
		</div>
	</div>
</div>

<% if (games.length === 0) { %>
	<p>No games found.</a></p>
<% } else { %>
	<table class="table table-striped table-hover table-bordered">
		<thead>
			<tr>
				<th>Name</th>
				<th>Last Played</th>
				<th style="width: 1%;">Actions</th>
			</tr>
		</thead>
		<tbody>
			<% games.forEach((game) => { %>
				<tr>
					<td><a href="/sessions/<%= game.id %>"><%= game.name %></a></td>
					<td><%= game.last_played_date ? new Date(game.last_played_date).toLocaleDateString() : '-' %></td>
					<td class="text-nowrap">
						<a href="/edit-game/<%= game.id %>" class="btn btn-sm btn-primary">Edit</a>
                        <a href="/add-game-session/<%= game.id %>" class="btn btn-sm btn-success">Play</a>
                    </td>
				</tr>
			<% }); %>
		</tbody>
	</table>
<% } %>

<%- include ('partials/footer.ejs') %>
